(window.shark_list_jsonp=window.shark_list_jsonp||[]).push([[8],{"1c767":function(e,o){e.exports=sdkd96911f1719081126911},4:function(e,o,t){e.exports=t("83e13")},"83e13":function(e,o,t){"use strict";t.r(o);t("c4dc3"),t("8f58d");var r,i,n,l,c=t("7ca7d"),a=t.n(c),s=(t("96089"),t("f6898")),u=t("b0067"),f=t("eb3e2"),p=t("58638"),w=t("722b8"),b=t("db47a"),d=t("54992");function _initDefineProp(e,o,t,r){t&&Object.defineProperty(e,o,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function _possibleConstructorReturn(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!==typeof o&&"function"!==typeof o?e:o}function _inherits(e,o){if("function"!==typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):function _defaults(e,o){for(var t=Object.getOwnPropertyNames(o),r=0;r<t.length;r++){var i=t[r],n=Object.getOwnPropertyDescriptor(o,i);n&&n.configurable&&void 0===e[i]&&Object.defineProperty(e,i,n)}return e}(e,o))}function _applyDecoratedDescriptor(e,o,t,r,i){var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=t.slice().reverse().reduce(function(t,r){return r(e,o,t)||t},n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,o,n),n=null),n}var v=f.basicTypes.string,y=f.basicTypes.number;Object(d.log)((i=function(e){function RecFollowDto(){var o,t;!function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,RecFollowDto);for(var r=arguments.length,i=Array(r),c=0;c<r;c++)i[c]=arguments[c];return o=t=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),_initDefineProp(t,"author",n,t),_initDefineProp(t,"uid",l,t),_possibleConstructorReturn(t,o)}return _inherits(RecFollowDto,e),RecFollowDto}(f.EntityDto),n=_applyDecoratedDescriptor(i.prototype,"author",[v],{enumerable:!0,initializer:null}),l=_applyDecoratedDescriptor(i.prototype,"uid",[y],{enumerable:!0,initializer:null}),r=i));function recFollowActions_inherits(e,o){if("function"!==typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):function recFollowActions_defaults(e,o){for(var t=Object.getOwnPropertyNames(o),r=0;r<t.length;r++){var i=t[r],n=Object.getOwnPropertyDescriptor(o,i);n&&n.configurable&&void 0===e[i]&&Object.defineProperty(e,i,n)}return e}(e,o))}var m,h,_,F,g,O,N,R="RECEIVE_RECFOLLOW_LIST",j="UPDATE_DATA",S=function(e){function RecFollowAction(){return function recFollowActions_classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,RecFollowAction),function recFollowActions_possibleConstructorReturn(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!==typeof o&&"function"!==typeof o?e:o}(this,e.apply(this,arguments))}return recFollowActions_inherits(RecFollowAction,e),RecFollowAction.getList=function getList(){return{type:"GET_RECFOLLOW_LIST"}},RecFollowAction.receviceList=function receviceList(e){return{type:R,payload:e}},RecFollowAction.addFollow=function addFollow(e){return{type:"ADD_FOLLOW",payload:e}},RecFollowAction.defaultAction=function defaultAction(){return{type:"DEFAULT_ACTION"}},RecFollowAction.update=function update(e){return{type:j,payload:e}},RecFollowAction}(p.Action),E=t("b1219"),D=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};function recFollowServices_initDefineProp(e,o,t,r){t&&Object.defineProperty(e,o,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function recFollowServices_possibleConstructorReturn(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!==typeof o&&"function"!==typeof o?e:o}function recFollowServices_inherits(e,o){if("function"!==typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):function recFollowServices_defaults(e,o){for(var t=Object.getOwnPropertyNames(o),r=0;r<t.length;r++){var i=t[r],n=Object.getOwnPropertyDescriptor(o,i);n&&n.configurable&&void 0===e[i]&&Object.defineProperty(e,i,n)}return e}(e,o))}function recFollowServices_applyDecoratedDescriptor(e,o,t,r,i){var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=t.slice().reverse().reduce(function(t,r){return r(e,o,t)||t},n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,o,n),n=null),n}var C,P,z,L=a.a.Store,M=a.a.Service,A=function setLocalStorage(e,o,t){return f.DataCenter.localStorage.set(e,o,t)},k=function getLocalStorage(e){return f.DataCenter.localStorage.get(e)},T={newUser:"recFollowIsNew_",notifyMap:"recFollowNotifyMap_"},I=(m=L(),h=M(f.DataCenter.cookie),_=M(f.DataCenter.global),F=function(e){function RecFollowServices(){var o,t;!function recFollowServices_classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,RecFollowServices);for(var r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];return o=t=recFollowServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),recFollowServices_initDefineProp(t,"store",g,t),recFollowServices_initDefineProp(t,"cookie",O,t),recFollowServices_initDefineProp(t,"globalData",N,t),t.getUid=function(){return t.globalData.get("USER_INFO.uid")||""},t.getIsNewKey=function(){var e=t.getUid();return""+T.newUser+e},t.getNotifyMapKey=function(){var e=t.getUid();return""+T.notifyMap+e},t.getIsNew=function(){var e=t.getIsNewKey(),o=!!k(e);return o||(o=!!t.cookie.get("isNewUser"))&&(A(e,o,31536e3),t.cookie.remove("isNewUser")),o},t.setIsNew=function(e){var o=t.getIsNewKey();A(o,e,31536e3)},t.getNotifyMap=function(){var e=t.getNotifyMapKey();return k(e)},t.setNotifyMap=function(){var e=t.getNotifyMapKey(),o=t.getNotifyMap()||{};o[E.a.formatDate(new Date,"yyyy/MM/dd")]=1,A(e,o,31536e3)},t.checkRecfollow=function(){var e;if(!(e=t.getIsNew()))return!1;var o=t.getNotifyMap()||{};return!(Object.keys(o).length>=3)&&(!o[E.a.formatDate(new Date,"yyyy/MM/dd")]&&e)},recFollowServices_possibleConstructorReturn(t,o)}return recFollowServices_inherits(RecFollowServices,e),RecFollowServices.prototype.getList=function getList(){this.store.dispatch(S.getList())},RecFollowServices.prototype.closeWin=function closeWin(){this.store.dispatch(S.update({showRec:!1}))},RecFollowServices.prototype.toggleSelect=function toggleSelect(e){var o=this.store.getState().recFollowData.cancelMap,t=D({},o),r=o[e];t[e]=!r,this.store.dispatch(S.update({cancelMap:t}))},RecFollowServices.prototype.addFollow=function addFollow(e){this.store.dispatch(S.addFollow(e))},RecFollowServices}(p.Service),g=recFollowServices_applyDecoratedDescriptor(F.prototype,"store",[m],{enumerable:!0,initializer:null}),O=recFollowServices_applyDecoratedDescriptor(F.prototype,"cookie",[h],{enumerable:!0,initializer:null}),N=recFollowServices_applyDecoratedDescriptor(F.prototype,"globalData",[_],{enumerable:!0,initializer:null}),F),U=t("eb4d3"),x=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};var W="/member/followRecommend/getRecFollowList",q="/member/followRecommend/batchFollow",K={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}},X=(C=(0,a.a.Service)(I),P=function(){function RecFollowEpics(){!function recFollowEpics_classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,RecFollowEpics),function recFollowEpics_initDefineProp(e,o,t,r){t&&Object.defineProperty(e,o,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}(this,"recFollowService",z,this)}return RecFollowEpics.prototype.getList=function getList(e){var o=this;return e.ofType("GET_RECFOLLOW_LIST").pipe(Object(u.switchMap)(function(){return f.httpClient.get(String,W,null,{noCache:!0})}),Object(s.map)(function(e){var t=e.error,r=e.data;if(0===t){Object(b.dysub2)({action_code:"130100X",event_id:2,type:1});var i=r?r.map(function(e){return p.GSON.parse(e)}):[];return S.receviceList({anchorList:i})}return 2===t?(o.recFollowService.setIsNew(!1),S.defaultAction()):S.defaultAction()}))},RecFollowEpics.prototype.addFollow=function addFollow(e){return e.ofType("ADD_FOLLOW").pipe(Object(u.switchMap)(function(e){var o=e.payload;return Object(U.a)(o)}),Object(u.switchMap)(function(e){var o,t=e.name,r=e.value,i=e.payload;return f.httpClient.post(String,q,x({},i,((o={})[t]=r,o)),K)}),Object(s.map)(function(e){return 0===e.error&&w.a.info("\u5173\u6ce8\u6210\u529f"),S.update({showRec:!1})}))},RecFollowEpics}(),z=function recFollowEpics_applyDecoratedDescriptor(e,o,t,r,i){var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=t.slice().reverse().reduce(function(t,r){return r(e,o,t)||t},n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,o,n),n=null),n}(P.prototype,"recFollowService",[C],{enumerable:!0,initializer:null}),P),G=(0,a.a.combineEpicsClass)(X),B=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};var V={recFollowData:function recFollowCount(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{anchorList:[],cancelMap:{},showRec:!1},o=arguments[1];switch(o.type){case R:return B({},e,o.payload,{showRec:!0});case j:return B({},e,o.payload);default:return e}}},H=t("1a22b"),J=t.n(H),Q=t("29218"),Y=t.n(Q),Z=t("f2b8b"),$=t("447d8"),ee=t("fc794"),oe=t.n(ee),te=(t("b7200"),[1,2,3,2,3,1,3,1,2,1,2,3,2,3,1,3,1,2,1,2,3,2,3,1,3,1,2,1,2,3,2,3,1,3,1,2]),re="/shark/live/src/common/modules/recFollowModule/components/RecFollow/components/anchorList.js",ie=function AnchorList(e){var o=e.list,t=void 0===o?[]:o,r=e.select,i=e.cancelMap;return J.a.createElement("ul",{className:"recFollow-list",__source:{fileName:re,lineNumber:10},__self:void 0},t.map(function(e,o){return J.a.createElement("li",{className:"recFollow-item "+(i[e.rid]?"is-cancel":""),key:e.rid,onClick:function onClick(){return r(e.rid,o)},__source:{fileName:re,lineNumber:13},__self:void 0},J.a.createElement("div",{className:"recFollow-avator "+(e.isLive?"recFollow-live":""),__source:{fileName:re,lineNumber:18},__self:void 0},J.a.createElement("img",{src:e.icon,__source:{fileName:re,lineNumber:19},__self:void 0})),J.a.createElement("div",{className:"recFollow-detail",__source:{fileName:re,lineNumber:21},__self:void 0},J.a.createElement("div",{className:"recFollow-info",__source:{fileName:re,lineNumber:22},__self:void 0},J.a.createElement("span",{className:"recFollow-nickname",__source:{fileName:re,lineNumber:23},__self:void 0},e.nickname),J.a.createElement("span",{className:"recFollow-tag recFollow-cate"+te[o],__source:{fileName:re,lineNumber:24},__self:void 0},e.cate)),J.a.createElement("p",{className:"recFollow-desc",__source:{fileName:re,lineNumber:26},__self:void 0},e.des),J.a.createElement("p",{className:"recFollow-sub",__source:{fileName:re,lineNumber:29},__self:void 0},e.customize)))}))};ie.propTypes={list:Y.a.array.isRequired,select:Y.a.func.isRequired,cancelMap:Y.a.object.isRequired},ie.defaultProps={list:[],select:function select(){},cancelMap:{}};var ne,le,ce,ae,se=ie,ue=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},fe="/shark/live/src/common/modules/recFollowModule/components/RecFollow/RecFollow.js";function RecFollow_possibleConstructorReturn(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!==typeof o&&"function"!==typeof o?e:o}function RecFollow_inherits(e,o){if("function"!==typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):function RecFollow_defaults(e,o){for(var t=Object.getOwnPropertyNames(o),r=0;r<t.length;r++){var i=t[r],n=Object.getOwnPropertyDescriptor(o,i);n&&n.configurable&&void 0===e[i]&&Object.defineProperty(e,i,n)}return e}(e,o))}var pe=(ne=(0,a.a.Service)(I),Object(d.log)((ce=function(e){function RecFollow(){var o,t;!function RecFollow_classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,RecFollow);for(var r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];return o=t=RecFollow_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),function RecFollow_initDefineProp(e,o,t,r){t&&Object.defineProperty(e,o,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}(t,"recFollowService",ae,t),t.handlerSelect=function(e,o){t.recFollowService.toggleSelect(e),Object(b.dysub2)({action_code:"130100X03",event_id:1,type:1,p:o+1})},RecFollow_possibleConstructorReturn(t,o)}return RecFollow_inherits(RecFollow,e),RecFollow.prototype.getRandomNum=function getRandomNum(e,o){var t=o-e,r=Math.random();return e+Math.round(r*t)},RecFollow.prototype.componentDidMount=function componentDidMount(){var e=this;if(oe.a.check()&&this.recFollowService.checkRecfollow()){var o=1e3*this.getRandomNum(1,4);setTimeout(function(){e.recFollowService.setNotifyMap(),e.recFollowService.getList()},o)}},RecFollow.prototype.handleClose=function handleClose(){this.recFollowService.closeWin(),Object(b.dysub2)({action_code:"130100X02",event_id:1,type:1})},RecFollow.prototype.handleFollow=function handleFollow(){var e=this.props,o=e.anchorList,t=e.cancelMap,r=[],i=[];o.forEach(function(e,o){var n=e.rid;t[n]||(r.push(n),i.push(o+1))});var n={rids:r.join(","),location:i.join(",")};this.recFollowService.addFollow(n),Object(b.dysub2)({action_code:"130100X01",event_id:1,type:1})},RecFollow.prototype.render=function render(){var e=this,o=this.props,t=o.anchorList,r=o.showRec,i=o.cancelMap;if(!r)return null;var n={list:t,select:this.handlerSelect,cancelMap:i};return J.a.createElement("div",{className:"recFollow-container",__source:{fileName:fe,lineNumber:113},__self:this},J.a.createElement("div",{className:"recFollow-mask",__source:{fileName:fe,lineNumber:114},__self:this}),J.a.createElement("div",{className:"recFollow-wrapper",__source:{fileName:fe,lineNumber:115},__self:this},J.a.createElement("h2",{className:"recFollow-title",__source:{fileName:fe,lineNumber:116},__self:this},"\u5927\u795e\u4e3b\u64ad\uff0c\u5173\u6ce8\u4e00\u6ce2"),J.a.createElement("div",{className:"recFollow-content",__source:{fileName:fe,lineNumber:117},__self:this},t.length>12?J.a.createElement(Z.Scrollbars,{__source:{fileName:fe,lineNumber:120},__self:this},J.a.createElement(se,ue({},n,{__source:{fileName:fe,lineNumber:121},__self:this}))):J.a.createElement(se,ue({},n,{__source:{fileName:fe,lineNumber:124},__self:this}))),J.a.createElement("div",{className:"recFollow-footer",__source:{fileName:fe,lineNumber:128},__self:this},J.a.createElement("span",{className:"recFollow-btn is-follow",onClick:function onClick(){return e.handleFollow()},__source:{fileName:fe,lineNumber:129},__self:this},"\u5173\u6ce8"),J.a.createElement("span",{className:"recFollow-btn is-close",onClick:function onClick(){return e.handleClose()},__source:{fileName:fe,lineNumber:130},__self:this},"\u5173\u95ed"))))},RecFollow}(J.a.Component),ae=function RecFollow_applyDecoratedDescriptor(e,o,t,r,i){var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=t.slice().reverse().reduce(function(t,r){return r(e,o,t)||t},n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,o,n),n=null),n}(ce.prototype,"recFollowService",[ne],{enumerable:!0,initializer:null}),le=ce))||le);pe.propTypes={anchorList:Y.a.array.isRequired,showRec:Y.a.bool.isRequired,cancelMap:Y.a.object.isRequired},pe.defaultProps={anchorList:[],showRec:!1,cancelMap:{}};var we=Object($.connect)(function mapStateToProps(e){return{anchorList:e.recFollowData.anchorList,showRec:e.recFollowData.showRec,cancelMap:e.recFollowData.cancelMap}})(pe),be=a.a.StoreFactory,de=new(a.a.createApp({name:"RecFollowApp",providers:[{name:"component",useFactory:function useFactory(){return we}},{name:"store",useFactory:function useFactory(){return be.getInstance(window.__INITIAL_STATE__,V,G)}}]})),ve=document.getElementById("js-rec-follow");ve||((ve=document.createElement("div")).id="js-rec-follow",ve.className="rec-follow",document.body.appendChild(ve)),a.a.render(de,ve)},86962:function(e,o){e.exports=vendorb74966ba39e6c70fa608},b7200:function(e,o,t){}},[[4,0,1,2,3]]]);
//# sourceMappingURL=http://fedci.dz11.com:4567/list/online/sourcemaps/recfollow_69ea275.js.map